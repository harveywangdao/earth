{{template "header"}}
      <title>Category Page</title>
  </head>

  <body>
      <div class="navbar navbar-default navbar-fixed-top">
          <div class="container">
            {{template "navbar" .}}
          </div>
      </div>
      <br>
      <br>
      <br>
      <div class="container">
        <h1>Category List</h1>
        <form method="get" action="/category">
          <div class="form-group">
            <label>Name</label>
            <input id="name" class="form-control" placeholder="Enter Category" name="categoryname">
          </div>
          <input type="hidden" name="op" value="add">
          <button type="submit" class="btn btn-default" onclick="return checkInput();">Add</button>
        </form>

        <script type="text/javascript">
          function checkInput(){
            var name = document.getElementById("name");
            if (name.value.length == 0) {
              alert("Please input category name!")
              return false
            }

            return true
          }
        </script>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Topic Count</th>
              <th>Operate</th>
            </tr>
          </thead>
          <tbody>
            {{range .Categories}}
            <tr>
              <td>{{.Id}}</td>
              <td>{{.Title}}</td>
              <td>{{.TopicCount}}</td>
              <td>
                <a href="/category?op=delete&id={{.Id}}">delete</a>
              </td>
            </tr>
            {{end}}
          </tbody>
        </table>
      </div>

      <script type="text/javascript" src="/static/js/jquery-3.2.1.min.js" ></script>
      <script type="text/javascript" src="/static/js/bootstrap.min.js" ></script>
  </body>
</html>
